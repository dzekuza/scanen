(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[961],{3010:function(e,t,n){Promise.resolve().then(n.bind(n,19732))},19732:function(e,t,n){"use strict";n.d(t,{default:function(){return o}});var r=n(57437),a=n(16463),s=n(2265),i=n(83866),l=n(77209),u=n(89733);function o(){let e=(0,a.useRouter)(),t=(0,a.useSearchParams)(),n=(null==t?void 0:t.get("customer_id"))||"",[o,d]=(0,s.useState)(!1),[c,m]=(0,s.useState)(null),[f,b]=(0,s.useState)(null),[v,h]=(0,s.useState)({name:"",surname:"",email:"",phone:""});(0,s.useEffect)(()=>{n&&e();async function e(){d(!0);let{data:e,error:t}=await i.O.from("customers").select("name, surname, email").eq("id",n).single();e&&(b(e),h(t=>({...t,...e}))),d(!1)}},[n]);let p=e=>{h(t=>({...t,[e.target.name]:e.target.value}))},x=async t=>{t.preventDefault(),d(!0),m(null);let{data:r,error:a}=await i.O.from("customer_sessions").insert([{customer_id:n,name:v.name,surname:v.surname,email:v.email,phone:v.phone,status:"in_progress"}]).select("id").single();d(!1),a?m(a.message):r&&r.id&&e.push("/answer/".concat(r.id))};return(0,r.jsxs)("div",{className:"max-w-md mx-auto p-6",children:[(0,r.jsx)("h1",{className:"text-2xl font-bold mb-4",children:"Start Your Session"}),(0,r.jsxs)("form",{onSubmit:x,className:"space-y-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"name",className:"block text-sm font-medium mb-1",children:"Name"}),(0,r.jsx)(l.I,{id:"name",name:"name",value:v.name,onChange:p,required:!0,disabled:o})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"surname",className:"block text-sm font-medium mb-1",children:"Surname"}),(0,r.jsx)(l.I,{id:"surname",name:"surname",value:v.surname,onChange:p,required:!0,disabled:o})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium mb-1",children:"Email"}),(0,r.jsx)(l.I,{id:"email",name:"email",type:"email",value:v.email,onChange:p,required:!0,disabled:o})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"phone",className:"block text-sm font-medium mb-1",children:"Phone"}),(0,r.jsx)(l.I,{id:"phone",name:"phone",value:v.phone,onChange:p,disabled:o})]}),c&&(0,r.jsx)("div",{className:"text-red-600 text-sm",children:c}),(0,r.jsx)(u.z,{type:"submit",isDisabled:o,children:o?"Starting...":"Start Session"})]})]})}},16463:function(e,t,n){"use strict";var r=n(71169);n.o(r,"useRouter")&&n.d(t,{useRouter:function(){return r.useRouter}}),n.o(r,"useSearchParams")&&n.d(t,{useSearchParams:function(){return r.useSearchParams}})},89733:function(e,t,n){"use strict";n.d(t,{z:function(){return d}});var r=n(57437),a=n(2265),s=n(26706),i=n(20294),l=n(92975),u=n(49354);let o=(0,s.j)(["inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors","data-[disabled]:pointer-events-none data-[disabled]:opacity-50 ","data-[focus-visible]:outline-none data-[focus-visible]:ring-2 data-[focus-visible]:ring-ring data-[focus-visible]:ring-offset-2","focus-visible:outline-none"],{variants:{variant:{default:"bg-primary text-primary-foreground data-[hovered]:bg-primary/90",destructive:"bg-destructive text-destructive-foreground data-[hovered]:bg-destructive/90",outline:"border border-input bg-background data-[hovered]:bg-accent data-[hovered]:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground data-[hovered]:bg-secondary/80",ghost:"data-[hovered]:bg-accent data-[hovered]:text-accent-foreground",link:"text-primary underline-offset-4 data-[hovered]:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"size-10"}},defaultVariants:{variant:"default",size:"default"}}),d=a.forwardRef((e,t)=>{let{className:n,variant:a,size:s,...d}=e;return(0,r.jsx)(i.z,{ref:t,className:(0,l.zw)(n,e=>(0,u.cn)(o({variant:a,size:s,className:e}))),...d})})},77209:function(e,t,n){"use strict";n.d(t,{I:function(){return i}});var r=n(57437),a=n(2265),s=n(49354);let i=a.forwardRef((e,t)=>{let{className:n,type:a,...i}=e;return(0,r.jsx)("input",{type:a,className:(0,s.cn)("flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-base shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",n),ref:t,...i})});i.displayName="Input"},83866:function(e,t,n){"use strict";n.d(t,{O:function(){return r}});let r=(0,n(50034).eI)("https://kypkrogvvdqomrsbkaww.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Imt5cGtyb2d2dmRxb21yc2JrYXd3Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTEzMDA4NjAsImV4cCI6MjA2Njg3Njg2MH0.veH03_eenlTNeNpo9j3lMi9TqugiAatvVI2IUXOMbyw")},49354:function(e,t,n){"use strict";n.d(t,{cn:function(){return s}});var r=n(86584),a=n(24788);function s(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return(0,a.m6)((0,r.W)(t))}},26706:function(e,t,n){"use strict";n.d(t,{j:function(){return i}});var r=n(86584);let a=e=>"boolean"==typeof e?`${e}`:0===e?"0":e,s=r.W,i=(e,t)=>n=>{var r;if((null==t?void 0:t.variants)==null)return s(e,null==n?void 0:n.class,null==n?void 0:n.className);let{variants:i,defaultVariants:l}=t,u=Object.keys(i).map(e=>{let t=null==n?void 0:n[e],r=null==l?void 0:l[e];if(null===t)return null;let s=a(t)||a(r);return i[e][s]}),o=n&&Object.entries(n).reduce((e,t)=>{let[n,r]=t;return void 0===r||(e[n]=r),e},{});return s(e,u,null==t?void 0:null===(r=t.compoundVariants)||void 0===r?void 0:r.reduce((e,t)=>{let{class:n,className:r,...a}=t;return Object.entries(a).every(e=>{let[t,n]=e;return Array.isArray(n)?n.includes({...l,...o}[t]):({...l,...o})[t]===n})?[...e,n,r]:e},[]),null==n?void 0:n.class,null==n?void 0:n.className)}}},function(e){e.O(0,[306,971,23,744],function(){return e(e.s=3010)}),_N_E=e.O()}]);