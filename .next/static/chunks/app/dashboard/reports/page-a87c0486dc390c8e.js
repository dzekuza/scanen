(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1],{19169:function(e,t,n){Promise.resolve().then(n.bind(n,33925))},33925:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return d}});var r=n(57437),i=n(2265),s=n(60929),a=n(83866),u=n(77209),l=n(89733),o=n(79266);function d(){let{user:e}=(0,s.a)(),[t,n]=i.useState([]),[d,c]=i.useState(!0),[f,v]=i.useState(null),[b,h]=i.useState({}),[m,g]=i.useState(null),{setTitle:p}=(0,o.l)();(0,i.useEffect)(()=>{p("Your Analyzed Reports")},[p]),i.useEffect(()=>{e&&(async()=>{c(!0),v(null);let{data:t,error:r}=await a.O.from("analyzed_results").select("id, file_id, user_id, questions, created_at").eq("user_id",e.id).order("created_at",{ascending:!1});r?(v(r.message),n([])):n(t||[]),c(!1)})()},[e]);let x=(e,t,n)=>{h(r=>({...r,[e]:{...r[e],[t]:n}}))},y=async(e,t)=>{var r;if(!e.questions)return;g("".concat(e.id,"-").concat(t));let i={...e.questions,[t]:null===(r=b[e.id])||void 0===r?void 0:r[t]},{error:s}=await a.O.from("analyzed_results").update({questions:i}).eq("id",e.id);s||(n(t=>t.map(t=>t.id===e.id?{...t,questions:i}:t)),h(n=>{let{[t]:r,...i}=n[e.id]||{};return{...n,[e.id]:i}})),g(null)};return(0,r.jsx)("div",{className:"px-4 lg:px-6",children:d?(0,r.jsx)("div",{children:"Loading analyzed results..."}):f?(0,r.jsx)("div",{className:"text-red-500",children:f}):0===t.length?(0,r.jsx)("div",{children:"No analyzed reports found."}):(0,r.jsx)("div",{className:"space-y-6",children:t.map(e=>(0,r.jsxs)(i.Fragment,{children:[(0,r.jsxs)("div",{className:"font-semibold mb-2",children:["Analyzed on ",new Date(e.created_at).toLocaleString()]}),(0,r.jsx)("div",{className:"grid grid-cols-1 gap-4",children:e.questions&&Object.entries(e.questions).length>0?Object.entries(e.questions).map((t,n)=>{var i,s;let[a,o]=t,d=null!==(s=null===(i=b[e.id])||void 0===i?void 0:i[a])&&void 0!==s?s:o;return(0,r.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,r.jsx)(u.I,{value:d,onChange:t=>x(e.id,a,t.target.value)}),d!==o&&(0,r.jsx)(l.z,{size:"sm",onClick:()=>y(e,a),isDisabled:m==="".concat(e.id,"-").concat(a),children:m==="".concat(e.id,"-").concat(a)?"Saving...":"Save"})]},n)}):(0,r.jsx)("div",{className:"col-span-1",children:"No questions found for this report."})})]},e.id))})})}},60929:function(e,t,n){"use strict";n.d(t,{AuthProvider:function(){return u},a:function(){return l}});var r=n(57437),i=n(2265),s=n(83866);let a=(0,i.createContext)(void 0);function u(e){let{children:t}=e,[n,u]=(0,i.useState)(null),[l,o]=(0,i.useState)(null),[d,c]=(0,i.useState)(!0);(0,i.useEffect)(()=>{let{data:e}=s.O.auth.onAuthStateChange((e,t)=>{var n;u(t),o(null!==(n=null==t?void 0:t.user)&&void 0!==n?n:null),c(!1)});return s.O.auth.getSession().then(e=>{var t;let{data:{session:n}}=e;u(n),o(null!==(t=null==n?void 0:n.user)&&void 0!==t?t:null),c(!1)}),()=>{e.subscription.unsubscribe()}},[]);let f=async()=>{await s.O.auth.signOut(),u(null),o(null)};return(0,r.jsx)(a.Provider,{value:{user:l,session:n,loading:d,logout:f},children:t})}function l(){let e=(0,i.useContext)(a);if(!e)throw Error("useAuth must be used within AuthProvider");return e}},79266:function(e,t,n){"use strict";n.d(t,{DashboardTitleProvider:function(){return a},l:function(){return u}});var r=n(57437),i=n(2265);let s=(0,i.createContext)(void 0);function a(e){let{children:t}=e,[n,a]=(0,i.useState)("Documents");return(0,r.jsx)(s.Provider,{value:{title:n,setTitle:a},children:t})}function u(){let e=(0,i.useContext)(s);if(!e)throw Error("useDashboardTitle must be used within DashboardTitleProvider");return e}},89733:function(e,t,n){"use strict";n.d(t,{z:function(){return d}});var r=n(57437),i=n(2265),s=n(26706),a=n(20294),u=n(92975),l=n(49354);let o=(0,s.j)(["inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors","data-[disabled]:pointer-events-none data-[disabled]:opacity-50 ","data-[focus-visible]:outline-none data-[focus-visible]:ring-2 data-[focus-visible]:ring-ring data-[focus-visible]:ring-offset-2","focus-visible:outline-none"],{variants:{variant:{default:"bg-primary text-primary-foreground data-[hovered]:bg-primary/90",destructive:"bg-destructive text-destructive-foreground data-[hovered]:bg-destructive/90",outline:"border border-input bg-background data-[hovered]:bg-accent data-[hovered]:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground data-[hovered]:bg-secondary/80",ghost:"data-[hovered]:bg-accent data-[hovered]:text-accent-foreground",link:"text-primary underline-offset-4 data-[hovered]:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"size-10"}},defaultVariants:{variant:"default",size:"default"}}),d=i.forwardRef((e,t)=>{let{className:n,variant:i,size:s,...d}=e;return(0,r.jsx)(a.z,{ref:t,className:(0,u.zw)(n,e=>(0,l.cn)(o({variant:i,size:s,className:e}))),...d})})},77209:function(e,t,n){"use strict";n.d(t,{I:function(){return a}});var r=n(57437),i=n(2265),s=n(49354);let a=i.forwardRef((e,t)=>{let{className:n,type:i,...a}=e;return(0,r.jsx)("input",{type:i,className:(0,s.cn)("flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-base shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",n),ref:t,...a})});a.displayName="Input"},83866:function(e,t,n){"use strict";n.d(t,{O:function(){return r}});let r=(0,n(50034).eI)("https://kypkrogvvdqomrsbkaww.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Imt5cGtyb2d2dmRxb21yc2JrYXd3Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTEzMDA4NjAsImV4cCI6MjA2Njg3Njg2MH0.veH03_eenlTNeNpo9j3lMi9TqugiAatvVI2IUXOMbyw")},49354:function(e,t,n){"use strict";n.d(t,{cn:function(){return s}});var r=n(86584),i=n(24788);function s(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return(0,i.m6)((0,r.W)(t))}},26706:function(e,t,n){"use strict";n.d(t,{j:function(){return a}});var r=n(86584);let i=e=>"boolean"==typeof e?`${e}`:0===e?"0":e,s=r.W,a=(e,t)=>n=>{var r;if((null==t?void 0:t.variants)==null)return s(e,null==n?void 0:n.class,null==n?void 0:n.className);let{variants:a,defaultVariants:u}=t,l=Object.keys(a).map(e=>{let t=null==n?void 0:n[e],r=null==u?void 0:u[e];if(null===t)return null;let s=i(t)||i(r);return a[e][s]}),o=n&&Object.entries(n).reduce((e,t)=>{let[n,r]=t;return void 0===r||(e[n]=r),e},{});return s(e,l,null==t?void 0:null===(r=t.compoundVariants)||void 0===r?void 0:r.reduce((e,t)=>{let{class:n,className:r,...i}=t;return Object.entries(i).every(e=>{let[t,n]=e;return Array.isArray(n)?n.includes({...u,...o}[t]):({...u,...o})[t]===n})?[...e,n,r]:e},[]),null==n?void 0:n.class,null==n?void 0:n.className)}}},function(e){e.O(0,[306,971,23,744],function(){return e(e.s=19169)}),_N_E=e.O()}]);