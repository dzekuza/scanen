(()=>{var e={};e.id=635,e.ids=[635],e.modules={47849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},14300:e=>{"use strict";e.exports=require("buffer")},6113:e=>{"use strict";e.exports=require("crypto")},82361:e=>{"use strict";e.exports=require("events")},13685:e=>{"use strict";e.exports=require("http")},95687:e=>{"use strict";e.exports=require("https")},41808:e=>{"use strict";e.exports=require("net")},85477:e=>{"use strict";e.exports=require("punycode")},12781:e=>{"use strict";e.exports=require("stream")},24404:e=>{"use strict";e.exports=require("tls")},57310:e=>{"use strict";e.exports=require("url")},59796:e=>{"use strict";e.exports=require("zlib")},29216:(e,t,a)=>{"use strict";a.r(t),a.d(t,{GlobalError:()=>n.a,__next_app__:()=>p,originalPathname:()=>u,pages:()=>c,routeModule:()=>x,tree:()=>d}),a(14083),a(7517),a(11506),a(35866);var r=a(23191),s=a(88716),i=a(37922),n=a.n(i),o=a(95231),l={};for(let e in o)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>o[e]);a.d(t,l);let d=["",{children:["dashboard",{children:["data-library",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(a.bind(a,14083)),"/Users/gvozdovic/scanen/app/dashboard/data-library/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(a.bind(a,7517)),"/Users/gvozdovic/scanen/app/dashboard/layout.tsx"]}]},{layout:[()=>Promise.resolve().then(a.bind(a,11506)),"/Users/gvozdovic/scanen/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(a.t.bind(a,35866,23)),"next/dist/client/components/not-found-error"]}],c=["/Users/gvozdovic/scanen/app/dashboard/data-library/page.tsx"],u="/dashboard/data-library/page",p={require:a,loadChunk:()=>Promise.resolve()},x=new r.AppPageRouteModule({definition:{kind:s.x.APP_PAGE,page:"/dashboard/data-library/page",pathname:"/dashboard/data-library",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},69252:(e,t,a)=>{Promise.resolve().then(a.bind(a,61643))},61643:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>L});var r=a(10326),s=a(17577),i=a(15358),n=a(71632),o=a(41156),l=a(11181),d=a(87520),c=a(61192),u=a(83395),p=a(44262),x=a(22263),f=a(48554),b=a(75598),m=a(39411),g="Tabs",[h,v]=(0,c.b)(g,[u.Pc]),y=(0,u.Pc)(),[j,w]=h(g),_=s.forwardRef((e,t)=>{let{__scopeTabs:a,value:s,onValueChange:i,defaultValue:n,orientation:o="horizontal",dir:l,activationMode:d="automatic",...c}=e,u=(0,f.gm)(l),[p,h]=(0,b.T)({prop:s,onChange:i,defaultProp:n??"",caller:g});return(0,r.jsx)(j,{scope:a,baseId:(0,m.M)(),value:p,onValueChange:h,orientation:o,dir:u,activationMode:d,children:(0,r.jsx)(x.WV.div,{dir:u,"data-orientation":o,...c,ref:t})})});_.displayName=g;var N="TabsList",q=s.forwardRef((e,t)=>{let{__scopeTabs:a,loop:s=!0,...i}=e,n=w(N,a),o=y(a);return(0,r.jsx)(u.fC,{asChild:!0,...o,orientation:n.orientation,dir:n.dir,loop:s,children:(0,r.jsx)(x.WV.div,{role:"tablist","aria-orientation":n.orientation,...i,ref:t})})});q.displayName=N;var z="TabsTrigger",P=s.forwardRef((e,t)=>{let{__scopeTabs:a,value:s,disabled:i=!1,...n}=e,o=w(z,a),l=y(a),c=D(o.baseId,s),p=C(o.baseId,s),f=s===o.value;return(0,r.jsx)(u.ck,{asChild:!0,...l,focusable:!i,active:f,children:(0,r.jsx)(x.WV.button,{type:"button",role:"tab","aria-selected":f,"aria-controls":p,"data-state":f?"active":"inactive","data-disabled":i?"":void 0,disabled:i,id:c,...n,ref:t,onMouseDown:(0,d.M)(e.onMouseDown,e=>{i||0!==e.button||!1!==e.ctrlKey?e.preventDefault():o.onValueChange(s)}),onKeyDown:(0,d.M)(e.onKeyDown,e=>{[" ","Enter"].includes(e.key)&&o.onValueChange(s)}),onFocus:(0,d.M)(e.onFocus,()=>{let e="manual"!==o.activationMode;f||i||!e||o.onValueChange(s)})})})});P.displayName=z;var M="TabsContent",R=s.forwardRef((e,t)=>{let{__scopeTabs:a,value:i,forceMount:n,children:o,...l}=e,d=w(M,a),c=D(d.baseId,i),u=C(d.baseId,i),f=i===d.value,b=s.useRef(f);return s.useEffect(()=>{let e=requestAnimationFrame(()=>b.current=!1);return()=>cancelAnimationFrame(e)},[]),(0,r.jsx)(p.z,{present:n||f,children:({present:a})=>(0,r.jsx)(x.WV.div,{"data-state":f?"active":"inactive","data-orientation":d.orientation,role:"tabpanel","aria-labelledby":c,hidden:!a,id:u,tabIndex:0,...l,ref:t,style:{...e.style,animationDuration:b.current?"0s":void 0},children:a&&o})})});function D(e,t){return`${e}-trigger-${t}`}function C(e,t){return`${e}-content-${t}`}R.displayName=M;var k=a(51223);let A=s.forwardRef(({className:e,...t},a)=>r.jsx(q,{ref:a,className:(0,k.cn)("inline-flex h-9 items-center justify-center rounded-lg bg-muted p-1 text-muted-foreground",e),...t}));A.displayName=q.displayName;let U=s.forwardRef(({className:e,...t},a)=>r.jsx(P,{ref:a,className:(0,k.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-md px-3 py-1 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow",e),...t}));U.displayName=P.displayName;let V=s.forwardRef(({className:e,...t},a)=>r.jsx(R,{ref:a,className:(0,k.cn)("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));function L(){let{user:e}=(0,i.a)(),[t,a]=s.useState([]),[d,c]=s.useState(!0),[u,p]=s.useState(null),{setTitle:x}=(0,l.l)(),[f,b]=(0,s.useState)("uploaded");return s.useEffect(()=>{e&&(async()=>{c(!0),p(null);let t=e.app_metadata?.role==="admin"||e.user_metadata?.role==="admin",r=n.O.from("documents").select("filename, original_name, uploaded_at, user_id");t||(r=r.eq("user_id",e.id));let{data:s,error:i}=await r.order("uploaded_at",{ascending:!1});!i&&s?a(s.map(e=>{let{data:t}=n.O.storage.from("files").getPublicUrl(e.filename);return{...e,url:t.publicUrl}})):(p(i?.message||"Failed to fetch files."),a([])),c(!1)})()},[e]),r.jsx("div",{className:"px-4 lg:px-6",children:(0,r.jsxs)(_,{value:f,onValueChange:b,children:[(0,r.jsxs)(A,{children:[r.jsx(U,{value:"uploaded",children:"Uploaded"}),r.jsx(U,{value:"shared",children:"Shared"})]}),r.jsx(V,{value:"uploaded",children:(0,r.jsxs)(o.iA,{"aria-label":"Data Library Files",children:[(0,r.jsxs)(o.xD,{children:[r.jsx(o.sg,{isRowHeader:!0,children:"File Name"}),r.jsx(o.sg,{children:"Uploaded At"}),r.jsx(o.sg,{children:"Download"})]}),r.jsx(o.RM,{children:t.map(e=>(0,r.jsxs)(o.X2,{children:[r.jsx(o.bL,{children:e.original_name}),r.jsx(o.bL,{children:new Date(e.uploaded_at).toLocaleString()}),r.jsx(o.bL,{children:r.jsx("a",{href:e.url,target:"_blank",rel:"noopener noreferrer",className:"underline text-blue-600 hover:text-blue-800",children:"Download"})})]},e.filename))})]})}),r.jsx(V,{value:"shared"})]})})}V.displayName=R.displayName},41156:(e,t,a)=>{"use strict";a.d(t,{RM:()=>p,X2:()=>x,bL:()=>f,iA:()=>d,sg:()=>u,xD:()=>c});var r=a(10326),s=a(56297),i=a(24691),n=a(50939),o=a(82980),l=a(51223);let d=({className:e,...t})=>r.jsx(i.iA,{className:(0,n.zw)(e,e=>(0,l.cn)("w-full caption-bottom text-sm -outline-offset-2 data-[focus-visible]:outline-ring",e)),...t}),c=({className:e,...t})=>r.jsx(i.xD,{className:(0,n.zw)(e,e=>(0,l.cn)("[&_tr]:border-b",e)),...t}),u=({className:e,children:t,...a})=>r.jsx(i.sg,{className:(0,n.zw)(e,e=>(0,l.cn)("h-12 text-left align-middle font-medium text-muted-foreground -outline-offset-2 data-[focus-visible]:outline-ring",e)),...a,children:(0,n.zw)(t,(e,{allowsSorting:t})=>(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsxs)(o.Z,{role:"presentation",tabIndex:-1,className:(0,l.cn)("flex h-10 flex-1 items-center gap-1 overflow-hidden rounded-md px-4",t&&"p-2 data-[hovered]:bg-accent data-[hovered]:text-accent-foreground","focus-visible:outline-none  data-[focus-visible]:-outline-offset-2 data-[focus-visible]:outline-ring [&:has([slot=selection])]:pr-0"),children:[r.jsx("span",{className:"truncate",children:e}),t&&r.jsx(s.Z,{className:"ml-2 size-4"})]}),a.isResizable&&r.jsx(i.$6,{className:"data-[focus-visible]:ring-rin box-content h-5 w-px translate-x-[8px] cursor-col-resize rounded bg-muted-foreground bg-clip-content px-[8px]  py-1 focus-visible:outline-none data-[resizing]:w-[2px] data-[resizing]:bg-primary data-[resizing]:pl-[7px] data-[focus-visible]:ring-1  data-[focus-visible]:ring-ring"})]}))}),p=({className:e,...t})=>r.jsx(i.RM,{className:(0,n.zw)(e,e=>(0,l.cn)("-outline-offset-2 data-[empty]:h-24 data-[empty]:text-center data-[focus-visible]:outline-ring [&_tr:last-child]:border-0",e)),...t}),x=({className:e,...t})=>r.jsx(i.X2,{className:(0,n.zw)(e,e=>(0,l.cn)("border-b -outline-offset-2 transition-colors data-[hovered]:bg-muted/50 data-[selected]:bg-muted data-[focus-visible]:outline-ring",e)),...t}),f=({className:e,...t})=>r.jsx(i.bL,{className:(0,n.zw)(e,e=>(0,l.cn)("p-4 align-middle -outline-offset-2 data-[focus-visible]:outline-ring [&:has([role=checkbox])]:pr-0",e)),...t})},14083:(e,t,a)=>{"use strict";a.r(t),a.d(t,{$$typeof:()=>n,__esModule:()=>i,default:()=>o});var r=a(68570);let s=(0,r.createProxy)(String.raw`/Users/gvozdovic/scanen/app/dashboard/data-library/page.tsx`),{__esModule:i,$$typeof:n}=s;s.default;let o=(0,r.createProxy)(String.raw`/Users/gvozdovic/scanen/app/dashboard/data-library/page.tsx#default`)}};var t=require("../../../webpack-runtime.js");t.C(e);var a=e=>t(t.s=e),r=t.X(0,[948,892,172,876,10,40,374],()=>a(29216));module.exports=r})();