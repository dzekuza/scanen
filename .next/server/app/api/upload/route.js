(()=>{var e={};e.id=998,e.ids=[998],e.modules={20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},30517:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},14300:e=>{"use strict";e.exports=require("buffer")},6113:e=>{"use strict";e.exports=require("crypto")},82361:e=>{"use strict";e.exports=require("events")},13685:e=>{"use strict";e.exports=require("http")},95687:e=>{"use strict";e.exports=require("https")},41808:e=>{"use strict";e.exports=require("net")},85477:e=>{"use strict";e.exports=require("punycode")},12781:e=>{"use strict";e.exports=require("stream")},24404:e=>{"use strict";e.exports=require("tls")},57310:e=>{"use strict";e.exports=require("url")},59796:e=>{"use strict";e.exports=require("zlib")},58359:()=>{},93739:()=>{},41873:(e,t,r)=>{"use strict";r.r(t),r.d(t,{originalPathname:()=>x,patchFetch:()=>f,requestAsyncStorage:()=>d,routeModule:()=>c,serverHooks:()=>m,staticGenerationAsyncStorage:()=>l});var s={};r.r(s),r.d(s,{POST:()=>n});var i=r(49303),o=r(88716),a=r(60670),u=r(87070),p=r(7030);async function n(e){let t=(await e.formData()).get("file");if(!t)return u.NextResponse.json({error:"No file uploaded."},{status:400});let r=new Uint8Array(await t.arrayBuffer()),s=`${Date.now()}-${t.name}`,{data:i,error:o}=await p.O.storage.from("files").upload(s,r,{contentType:t.type||"application/pdf",upsert:!1});if(o)return u.NextResponse.json({error:o.message},{status:500});let{error:a}=await p.O.from("documents").insert([{filename:s,original_name:t.name,uploaded_at:new Date().toISOString()}]);return a?u.NextResponse.json({error:a.message},{status:500}):u.NextResponse.json({success:!0,filename:s})}let c=new i.AppRouteRouteModule({definition:{kind:o.x.APP_ROUTE,page:"/api/upload/route",pathname:"/api/upload",filename:"route",bundlePath:"app/api/upload/route"},resolvedPagePath:"/Users/gvozdovic/scanen/app/api/upload/route.ts",nextConfigOutput:"",userland:s}),{requestAsyncStorage:d,staticGenerationAsyncStorage:l,serverHooks:m}=c,x="/api/upload/route";function f(){return(0,a.patchFetch)({serverHooks:m,staticGenerationAsyncStorage:l})}},7030:(e,t,r)=>{"use strict";r.d(t,{O:()=>s});let s=(0,r(72438).eI)("https://kypkrogvvdqomrsbkaww.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Imt5cGtyb2d2dmRxb21yc2JrYXd3Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTEzMDA4NjAsImV4cCI6MjA2Njg3Njg2MH0.veH03_eenlTNeNpo9j3lMi9TqugiAatvVI2IUXOMbyw")}};var t=require("../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[948,169],()=>r(41873));module.exports=s})();